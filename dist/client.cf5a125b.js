webpackJsonp([0,2],[,,,,,function(e,t){e.exports={window:{width:"3000",height:"1968"},server:"http://10.41.3.231:3000"}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return l}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return h});var r=n(5),o=r.window.width,a=r.window.height,i=["#FCEDD6","#A921C6","#1F9B7C","#E3DC2D","#19A580"],s=function(e,t,n,r){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))<=n+r||t.size},c=function(e,t){return Math.floor((e.x+t/2)/30)+"t"+Math.floor((e.y+t/2)/30)},u=function(){return Math.random()*(o-20)},d=function(){return Math.random()*(a-20)},f=function(){return i[Math.round(Math.random()*(i.length-1))]},l=function(){return{x:u(),y:d(),size:parseInt(20*Math.random()+10),color:f()}},v=function(e,t){for(var n=e.split("t"),r=[],o={},a=-1;a<=1;a++)for(var i=-1;i<=1;i++)r.push([n[0]-a,n[1]-i]);var s=!0,c=!1,u=void 0;try{for(var d,f=r[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var l=d.value,e=l.join("t"),v=t[e];v&&(o[e]=v)}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}return o},p=function(e,t){return!(e>0&&t>0&&e<o-10&&t<a-20)},h=function(e,t){for(var n in t){var r=t[n],o=!0,a=!1,i=void 0;try{for(var c,u=r.body[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;if(s(e.header,d,e.width,20))return!0}}catch(e){a=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw i}}}return!1}},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var r="FOOD_CREATE",o="FOOD_EAT",a="SNAKER_MOVE",i="SNAKER_TURN",s="SNAKER_INIT"},,function(e,t,n){"use strict";var r=n(0),o=n(52),a=(n.n(o),n(41)),i=n.n(a),s=n(26),c=n(27);n(25);n.d(t,"a",function(){return d});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.i(o.sync)(c.a,s.a);var d=new r.a(u({router:s.a,store:c.a},i.a))},function(e,t,n){"use strict";var r=n(38),o=n.n(r);window.Promise=window.Promise||o.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),o=n.n(r);o.a.install({onUpdateReady:function(){console.log("update ready"),o.a.applyUpdate()},onUpdated:function(){console.log("updated"),location.reload()}})},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,".foods[data-v-04118672]{width:100%;height:100%;overflow:hidden}.food[data-v-04118672]{border-radius:100%;position:absolute}",""])},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,'.snaker-header[data-v-3abd6046]{display:inline-block;width:20px;height:20px;border-radius:100% 100% 0 0;position:absolute;top:0;left:0;z-index:100;transform-origin:50% 50%}.snaker-header.direction1[data-v-3abd6046]{transform:rotate(0deg)}.snaker-header.direction2[data-v-3abd6046]{transform:rotate(90deg)}.snaker-header.direction3[data-v-3abd6046]{transform:rotate(180deg)}.snaker-header.direction4[data-v-3abd6046]{transform:rotate(270deg)}.snaker-body[data-v-3abd6046]{width:20px;height:20px;position:absolute;border-radius:100%}.snaker-eyes[data-v-3abd6046]{position:relative;width:10px;height:10px;background:#000;border-radius:100%;border:2.5px solid #fff;box-sizing:border-box;overflow:hidden}.snaker-eyes[data-v-3abd6046]:after{content:"";width:2.5px;height:2.5px;background:#fff;border-radius:100%;position:absolute;right:0}',""])},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,".mySnaker,.mySnaker div{z-index:90}",""])},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,".page[data-v-4ff97535]{width:3000px;height:1968px;overflow:hidden;position:absolute;background-image:url("+n(35)+");background-size:100% 100%;background-repeat:no-repeat}",""])},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,"*{margin:0;padding:0}#app,body,html{width:100%;height:100%;overflow:hidden;background-color:#626262}body{font-size:2rem;font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,Ubuntu,segoe ui,arial,sans-serif}.fl{float:left}.fr{float:right}",""])},,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"foods"},[e._l(e.foods,function(t,r){return[e._l(t,function(e,t){return[n("div",{directives:[{name:"absolute",rawName:"v-absolute",value:e,expression:"item"}],staticClass:"food",style:{width:e.size+"px",height:e.size+"px",backgroundColor:e.color}})]})]})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"snaker"},[n("div",{directives:[{name:"absolute",rawName:"v-absolute",value:e.header,expression:"header"}],staticClass:"snaker-header",class:"direction"+e.direction,style:{backgroundColor:e.color}},[n("div",{staticClass:"snaker-eyes fl"}),e._v(" "),n("div",{staticClass:"snaker-eyes fr"})]),e._v(" "),e._l(e.body,function(t,r){return[n("div",{directives:[{name:"absolute",rawName:"v-absolute",value:t,expression:"item"}],key:t.id,staticClass:"snaker-body",style:{backgroundColor:e.color}})]})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[e._l(e.enemy,function(t,r){return[n("Snaker",e._b({staticClass:"snaker enemy"},"Snaker",t))]}),e._v(" "),n("Snaker",e._b({staticClass:"mySnaker"},"Snaker",e.my)),e._v(" "),n("Food"),e._v(" "),n("Control")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"control"})},staticRenderFns:[]}},,function(e,t,n){"use strict";t.a={name:"absolute",call:{bind:function(e,t,n,r){e.style.left=t.value.x+"px",e.style.top=t.value.y+"px"},update:function(e,t,n,r){e.style.left=t.value.x+"px",e.style.top=t.value.y+"px"}}}},function(e,t,n){"use strict";var r=n(0),o=n(24);r.a.directive(o.a.name,o.a.call)},function(e,t,n){"use strict";var r=n(0),o=n(46),a=n(45),i=n.n(a);r.a.use(o.a),t.a=new o.a({mode:"hash",routes:[{path:"/",component:i.a}]})},function(e,t,n){"use strict";var r=n(0),o=n(4),a=n(28),i=n(29);r.a.use(o.b);var s={},c={INCREMENT:function(e){e.count++},DECREMENT:function(e){e.count--}},u={incrementAsync:function(e){var t=e.commit;setTimeout(function(){t("INCREMENT")},200)}},d=new o.b.Store({state:s,mutations:c,actions:u,modules:{food:a.a,snaker:i.a}});t.a=d},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,a=n(0),i=n(7),s=n(6),c={foods:{},length:0},u=(o={},r(o,i.d,function(e){if(e.length<500){var t=n.i(s.g)(),r=n.i(s.b)(t,t.size),o=e.foods[r];o?o.push(t):a.a.set(e.foods,r,[t]),e.length++}}),r(o,i.e,function(e,t){a.a.delete(e.foods,t)}),o);t.a={state:c,mutations:u}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=Math.random()*(u-300)+150,t=Math.random()*(d-300)+250;e=100,t=500;for(var n={x:e,y:t,id:h++},r=[],o=0;o<8;o++)r.push([e,t+f]);return{header:n,body:r}}var a,i=(n(0),n(7)),s=n(6),c=n(5),u=c.window.width,d=c.window.height,f=6,l=o(),v={my:{direction:1,width:20,score:0,header:l.header,body:l.body,color:n.i(s.f)()},enemy:{}};l=null;var p=(a={},r(a,i.a,function(e){var t,n=e.my.header,r=e.my.body;for(t=r.length-1;t>0;t--)r[t]=r[t-1];switch(r[0]={x:n.x,y:n.y,id:h++},e.my.direction){case 1:n.y-=f;break;case 2:n.x+=f;break;case 3:n.y+=f;break;case 4:n.x-=f;break;default:console.error("方向传递错误",f)}}),r(a,i.b,function(e,t){e.my.direction=t}),r(a,i.c,function(e){var t=o();e.my.header=t.header,e.my.body=t.body}),a);t.a={state:v,mutations:p};var h=0},function(e,t,n){"use strict";(function(e){var r=n(0);n.d(t,"a",function(){return i});var o=n(5),a=e(o.server),i=function(e){return a.on("connect",function(){console.log("链接",o.server)}),a.on("createId",function(t){e.my.id=t}),a.on("move",function(t){r.a.set(e.enemy,t.id,t)}),a.on("enemyOut",function(t){r.a.delete(e.enemy,t)}),a.on("disconnect",function(){console.log("服务端断开")}),a}}).call(t,n(17))},function(e,t,n){"use strict";function r(e){window.onkeydown=function(t){switch(t.keyCode){case 38:e.$store.commit("SNAKER_TURN",1);break;case 39:e.$store.commit("SNAKER_TURN",2);break;case 40:e.$store.commit("SNAKER_TURN",3);break;case 37:e.$store.commit("SNAKER_TURN",4)}}}function o(e){e.$store.commit("SNAKER_MOVE")}function a(e,t){var r=n.i(u.a)(n.i(u.b)(e.header,e.width),t);for(var o in r){var a=r[o];for(var s in a){var d=a[s];n.i(u.c)(e.body[0],d,e.width)&&(c.a.delete(t[o],s),e.score+=d.size,i(e))}}}function i(e){if(e.score>=e.width/2){var t=e.body.length;e.score-=e.width/2,e.body.push(e.body[t-1])}}function s(e,t,r){n.i(u.d)(t.header.x,t.header.y)&&(console.log("撞墙了"),e.$store.commit("SNAKER_INIT")),n.i(u.e)(t,r)&&(console.log("撞死了"),e.$store.commit("SNAKER_INIT"))}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),u=(n(4),n(6)),d=n(30);t.default={name:"Control",mounted:function(){function e(){setTimeout(function(){o(t),f.emit("move",i),s(t,i,c),a(i,u),e()},40)}var t=this,i=t.$store.state.snaker.my,c=t.$store.state.snaker.enemy,u=t.$store.state.food.foods,f=n.i(d.a)(t.$store.state.snaker);r(t);e()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n(0),n(4)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default={name:"Food",computed:o({},n.i(r.a)({foods:function(e){return e.food.foods}})),mounted:function(){var e=this;setInterval(function(){e.$store.commit("FOOD_CREATE")},1e3)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);t.default={name:"Snaker",props:["color","header","body","direction"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(44),a=n.n(o),i=n(43),s=n.n(i),c=n(42),u=n.n(c),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default={components:{Snaker:a.a,Food:s.a,Control:u.a},data:function(){return{clientWidth2:document.body.clientWidth/2,clientHeight2:document.body.clientHeight/2}},computed:d({},n.i(r.a)({my:function(e){return{header:e.snaker.my.header,body:e.snaker.my.body,direction:e.snaker.my.direction,color:e.snaker.my.color}},enemy:function(e){return e.snaker.enemy}}))}},function(e,t,n){e.exports=n.p+"static/media/bk.56969b17.jpg"},,,,,,function(e,t,n){n(51);var r=n(2)(null,n(21),null,null);e.exports=r.exports},function(e,t,n){var r=n(2)(n(31),n(22),null,null);e.exports=r.exports},function(e,t,n){n(47);var r=n(2)(n(32),n(18),"data-v-04118672",null);e.exports=r.exports},function(e,t,n){n(48);var r=n(2)(n(33),n(19),"data-v-3abd6046",null);e.exports=r.exports},function(e,t,n){n(50),n(49);var r=n(2)(n(34),n(20),"data-v-4ff97535",null);e.exports=r.exports},,function(e,t,n){var r=n(12);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(3)("6bfe45f2",r,!0)},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(3)("395afafc",r,!0)},function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(3)("8712547a",r,!0)},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(3)("4fb92997",r,!0)},function(e,t,n){var r=n(16);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(3)("664c74c2",r,!0)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n(10),n(9));n(11),r.a.$mount("#app")}],[53]);
//# sourceMappingURL=client.cf5a125b.js.map